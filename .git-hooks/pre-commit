#!/bin/bash

# Pre-commit hook to prevent markdown files (except README.md)
# Save as .git/hooks/pre-commit and chmod +x

MARKDOWN_FILES=$(git diff --cached --name-only --diff-filter=A | grep '\.md$' | grep -v '^README\.md$' | grep -v '^\.github/')

if [ -n "$MARKDOWN_FILES" ]; then
    echo "‚ùå ERROR: Attempting to commit markdown files other than README.md"
    echo ""
    echo "This project maintains a single README.md for all documentation."
    echo ""
    echo "Blocked files:"
    echo "$MARKDOWN_FILES" | sed 's/^/  - /'
    echo ""
    echo "Please:"
    echo "  1. Remove these .md files"
    echo "  2. Add content to README.md instead"
    echo "  3. Or document in code comments/docstrings"
    echo ""
    exit 1
fi

exit 0
